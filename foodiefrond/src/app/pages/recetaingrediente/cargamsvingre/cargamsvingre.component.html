<div class="container mt-5">
  <button class="btn btn-secondary atras" (click)="navigateTo('star/recetaingrediente')">Atras</button>
  <h1 class="text-center mb-4">Carga Masiva</h1>

  <!-- Formulario de carga de archivo -->
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="mb-3">
        <label for="formFile" class="form-label">Seleccione el archivo Excel:</label>
        <input class="form-control" type="file" (change)="onFileChange($event)" accept=".xlsx, .xls">
      </div>
      <div class="d-grid gap-2">
        <button class="btn btn-primary" (click)="onSubmit()">Cargar y enviar</button>
      </div>
    </div>
  </div>

  <!-- Switch para alternar entre tabla y JSON -->
  <div class="form-check form-switch mt-4 text-center">
    <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault" (change)="toggleView()">
    <label class="form-check-label" for="flexSwitchCheckDefault">
      {{ mostrarComoTabla ? 'Mostrar como JSON' : 'Mostrar como Tabla' }}
    </label>
  </div>

  <!-- Tabla de visualizaci贸n de datos -->
  <div class="row mt-5" *ngIf="recetasingrediente.length">
    <div class="col-md-12">
      <h3>Datos del Excel:</h3>

      <!-- Mostrar como tabla -->
      <table class="table table-striped" *ngIf="mostrarComoTabla">
        <thead>
          <tr>
            <th>ID</th>
            <th>ingredienteId</th>
            <th>recetaId</th>
            <th>Estado</th>
            <th>Fecha Creaci贸n</th>
            <th>Fecha Modificaci贸n</th>
            <th>Fecha Eliminaci贸n</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let items of recetasingrediente">
            <td>{{ items.id }}</td>
            <td>{{ items.ingredienteId }}</td>
            <td>{{ items.recetaId }}</td>
            <td>{{ items.estado }}</td>
            <td>{{ items.fechaCreo | date:'short' }}</td>
            <td>{{ items.fechaModifico }}</td>
            <td>{{ items.fechaElimino }}</td>
          </tr>
        </tbody>
      </table>

      <!-- Mostrar como JSON -->
      <pre *ngIf="!mostrarComoTabla">{{ recetasingrediente | json }}</pre>
    </div>
  </div>
</div>
